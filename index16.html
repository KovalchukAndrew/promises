<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<script src="axios.js"></script>
<script src="api.js"></script>

<script>
    /*    function doAfter (seconds) {
            let myPromise = new Promise((resolve) => {
                setTimeout(() => {
                    resolve()
                }, seconds)
            })
            return myPromise
        }*/
    /* api.sendStudentsCountToItKamasutra(20)
         .then(res => {
             console.log(res);
         });*/

    ////17

    /*let pr1 = doAfter(2000);
    let pr2 = doAfter(4000);
    pr1.then(() => console.log("pr1 resolved"));
    pr2.then(() => console.log("pr2 resolved"));

    let aggregatePromise = Promise.all([pr1, pr2]);
    aggregatePromise.then(() => console.log("pr1 and pr2 resolved!!!"))
*/

    ///////18

    /*function getRandomAfter(seconds) {
        let myPromise = new Promise((resolve) => {
            setInterval(() => {
                let randomNumber = Math.floor(Math.random() * 10);
                resolve(randomNumber)
            }, seconds * 1000)
        })
        return myPromise
    }

    //getRandomAfter(2).then(randomNumber => console.log(randomNumber))

    let promises = [getRandomAfter(1),getRandomAfter(2), getRandomAfter(3)];
    let commonPromise = Promise.all(promises);
    commonPromise.then( (value) => {
        console.log(value)
    } );*/

    //////19

    api.getVacanciesCountFromMicrosoft()
        .then(data => {
            console.log(data);
        });

    api.getVacanciesCountFromGoogle()
        .then(data => {
            console.log(data);
        });
    let promises = [api.getVacanciesCountFromMicrosoft(),api.getVacanciesCountFromGoogle()];
    let commonPromise = Promise.all(promises);
    let allCount = commonPromise.then( (value) => {
         return (value[0].data.vacancies + value[1].data.vacancies)
    })

    api.sendStudentsCountToItKamasutra(allCount)
        .then(data => {
            console.log(allCount);
        });




</script>

</body>
</html>